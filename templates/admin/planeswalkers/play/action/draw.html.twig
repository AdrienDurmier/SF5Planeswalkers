{# Draw : le joueur pioche une carte depuis sa bibliothèque (library) vers sa main (hand) #}
{% macro script() %}
    <script>
        {# Lorque le joueur pioche une carte en double cliquant sur la bibliothèque #}
        $("body").on('dblclick', '.library', function(e) {
            let player = $('#player-area').data('player');
            launchMove('library', 'hand', player);
        });

        {# Lorsque le joueur utilise le raccourci clavier D #}
        $('body').bind('keypress', function(e) {
            if(e.keyCode==100){
                let player = $('#player-area').data('player');
                launchMove('library', 'hand', player);
            }
        });

        {# Mise à jour du jeu après la pioche #}
        function updateGameAfterDraw(retourMercure){
            let player_area = $('.player-area-' + retourMercure.player);
            // Mise à jour du nombre de carte dans la library
            player_area.find('.library-top-card').text(retourMercure.library.count);
            // Mise à jour de la main
            player_area.find('.hand').html(""); // nettoyage
            player_area.find('.hand').html(renderHand(retourMercure)); // ajout des cartes piochées
        }
    </script>
{% endmacro %}